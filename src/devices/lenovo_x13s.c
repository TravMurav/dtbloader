// SPDX-License-Identifier: BSD-3-Clause
/* Copyright (c) 2024 Nikita Travkin <nikita@trvn.ru> */

#include <efi.h>
#include <device.h>

static EFI_GUID lenovo_thinkpad_x13s_gen_1_hwids[] = {
	{ 0x0909a1c3, 0x3a02, 0x59a0, { 0xb1, 0xea, 0x04, 0xf1, 0x44, 0x9c, 0x10, 0x4f } },
	{ 0x156c9b34, 0xbedb, 0x5bfd, { 0xae, 0x1f, 0xef, 0x5d, 0x2a, 0x99, 0x49, 0x67 } },
	{ 0x3486eccc, 0xd0ac, 0x534a, { 0x9e, 0x2f, 0xa1, 0xc1, 0x8b, 0xc3, 0x10, 0xc6 } },
	{ 0x3ad863ab, 0x0181, 0x5a2f, { 0x9c, 0xc1, 0x70, 0xee, 0xdc, 0x44, 0x6d, 0xa9 } },
	{ 0x3f9d2d91, 0x73b2, 0x5316, { 0x8c, 0x72, 0xa0, 0xec, 0xb3, 0xf0, 0xda, 0xe5 } },
	{ 0x4b189129, 0x8eb2, 0x585c, { 0xa1, 0xbb, 0xa4, 0xcf, 0xc9, 0x79, 0x43, 0x3a } },
	{ 0x4df470e6, 0x7878, 0x5b0f, { 0xb2, 0xe0, 0x73, 0x3d, 0x5d, 0x9f, 0xa2, 0x28 } },
	{ 0x64b71f12, 0x4341, 0x5e5c, { 0xb7, 0xcd, 0x25, 0xb6, 0x50, 0x37, 0x99, 0xe3 } },
	{ 0x69acf6bf, 0xed33, 0x5806, { 0x85, 0x7f, 0xc7, 0x69, 0x71, 0xd7, 0x06, 0x1e } },
	{ 0x69c47e1e, 0xfde2, 0x5062, { 0xb7, 0x77, 0xac, 0xbe, 0xab, 0x73, 0x78, 0x4b } },
	{ 0x6de5d951, 0xd755, 0x576b, { 0xbd, 0x09, 0xc5, 0xcf, 0x66, 0xb2, 0x72, 0x34 } },
	{ 0x810e34c6, 0xcc69, 0x5e36, { 0x86, 0x75, 0x2f, 0x6e, 0x35, 0x42, 0x72, 0xd3 } },
	{ 0x873455fb, 0xb2c5, 0x5c0c, { 0x9c, 0x2c, 0x90, 0xe8, 0x0d, 0x44, 0xda, 0x57 } },
	{ 0x920b6e26, 0x11c6, 0x5beb, { 0x86, 0x43, 0xfc, 0xf5, 0xcd, 0x74, 0x03, 0x3f } },
	{ 0x9f47e28f, 0xe1ee, 0x5cb5, { 0xb4, 0xce, 0x8f, 0x06, 0x05, 0x75, 0x2b, 0x3d } },
	{ 0xa1dfe209, 0x99e5, 0x5ff2, { 0x99, 0x22, 0xaa, 0x4c, 0x11, 0x49, 0x1b, 0x49 } },
	{ 0xabdbb2cb, 0xab52, 0x5674, { 0x9d, 0x0a, 0x2e, 0x2c, 0xb6, 0x9b, 0xcb, 0xb4 } },
	{ 0xb265d777, 0x007e, 0x56e5, { 0xb0, 0xe2, 0xbd, 0x66, 0x6a, 0xb8, 0x67, 0xbe } },
	{ 0xb41f58ed, 0x7631, 0x561f, { 0x9b, 0x0c, 0x44, 0x9a, 0x9c, 0x29, 0x3a, 0xfa } },
	{ 0xb470d002, 0xad8e, 0x5d5c, { 0xa7, 0xbf, 0xbb, 0x13, 0x33, 0xf2, 0xce, 0x4b } },
	{ 0xc869f39e, 0xf205, 0x5ca0, { 0xbe, 0x7b, 0xd9, 0x0f, 0x90, 0xef, 0x55, 0x56 } },
	{ 0xddf28a3f, 0x43fc, 0x54a4, { 0xa6, 0xa7, 0x4c, 0xba, 0x5a, 0xd4, 0x6b, 0x3e } },
	{ 0xddfbdaa2, 0x7c46, 0x5103, { 0xbe, 0x64, 0x84, 0xa9, 0xf8, 0x8c, 0x48, 0x5f } },
	{ 0xe093d715, 0x70f7, 0x51f4, { 0xb6, 0xc8, 0xb4, 0xa7, 0xe3, 0x1d, 0xef, 0x85 } },
	{ 0xf22c935e, 0x2dc8, 0x5949, { 0x94, 0x86, 0x09, 0xbb, 0xf1, 0x03, 0x61, 0xb2 } },
	{ 0xf249803d, 0x0d95, 0x54f3, { 0xa2, 0x8f, 0xf2, 0x6c, 0x14, 0xa0, 0x3f, 0x3b } },
	{ 0xfbf92a11, 0xbb6f, 0x5adb, { 0xb5, 0xa7, 0x8a, 0xbf, 0x9a, 0xcb, 0xd7, 0xd9 } },
	{ }
};

static struct device lenovo_thinkpad_x13s_gen_1_dev = {
	.name  = L"LENOVO ThinkPad X13s Gen 1",
	.dtb   = L"qcom\\sc8280xp-lenovo-thinkpad-x13s.dtb",
	.compatible = "lenovo,thinkpad-x13s",
	.hwids = lenovo_thinkpad_x13s_gen_1_hwids,

	.dt_fixup = qcom_dt_set_dpp_mac,
};
DEVICE_DESC(lenovo_thinkpad_x13s_gen_1_dev);
